@use 'base';

body {
    gap: 0;
}

main {
    flex-direction: column;
    justify-content: space-between;
    gap: 1.5em;
    padding: 3em;
    @include base.transparent-background-image(--bg-img, var(--color-bg-rgb), .1);
}

h2 {
    margin: .5em 0;
}

h3 {
    margin-top: .5em
}

a[id^="cite-"] {
    @extend .link;
    @include base.sup-annotation;
    white-space: nowrap;
    font-size: 60%;
}

#project-header {
    display: grid;
    grid-template: repeat(5, auto) / auto auto;
    row-gap: 1em;

    .list-rect {
        grid-row: 1;
        grid-column: 1 / 3;

        > * {
            @include base.color-accent;

            &#{base.$hover} {
                @include base.bring-out(1.15);
                z-index: 1;
            }
        }
    }

    h2 {
        grid-row: 2;
        font-size: 42px;
    }

    .logo {
        align-self: center;
        margin-left: auto;
        width: auto;

        @media screen and (min-width: 701px) {
            max-height: 100%;
            height: auto;
            grid-column: 2;
            grid-row: 1 / 6;
        }

        @media screen and (max-width: 700px) {
            grid-row: 2;
            height: 3lh;
        }
    }

    .abstract {
        grid-row: 3;
    }

    .status-context {
        grid-row: 4;
        display: flex;
        gap: min(5vh, 5em);
        align-items: baseline;

        small {
            display: inline-block;
            font-size: 100%;
        }
    }
}

.list-link {
    gap: 1em;
    flex-wrap: wrap;

    a {
        display: block;
        @include base.button-link(1.5);
        text-decoration: none;
    }

    .iconed-text {
        @include base.iconed-text(2);
    }
}

#story {
    &:has(:not(:only-child)) {
        text-align: justify;
        column-width: 60ch;
    }

    figure {
        max-width: 60ch;
    }

    p:not(:first-child) {
        margin-top: .5lh;
    }

    p:not(:last-child) {
        margin-bottom: .5lh;
    }
}

.list-reference {
    padding-left: 2em;
}

.ref-backlink {
    vertical-align: top;
    user-select: none;
    font-size: 80%;
}

#technologies,
#team {
    list-style-type: none;
    display: flex;
    flex-wrap: wrap;
    gap: .5em;

    > * {
        flex-shrink: 1;
        min-width: min-content;

        &#{base.$hover} {
            @include base.transparent-background-image(--bg-img-definition, var(--color-accent-bg-rgb), .1);
        }
    }
}

#gallery {
    display: flex;
    flex-wrap: wrap;
    gap: 2em;

    figure {
        display: flex;
        flex-flow: column;
        justify-content: space-between;
    }

    iframe {
        background-color: white;
        width: fit-content;
        height: 100%;
        min-height: 13em;

        + figcaption {
            @include base.basic-border(1px 0 0 0);
        }
    }
}