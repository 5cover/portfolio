---
import type { LiteratureKind } from '../../content/config';
import { normalizeLocale, getLabels } from '../../i18n/site';
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getLiterature } from '../../lib/content';
import LiteratureCardList from '../LiteratureCardList.astro';

interface Props {
    kind: LiteratureKind;
    mainClass?: string;
}

const { kind, mainClass } = Astro.props;
const locale = normalizeLocale(Astro.currentLocale);
const labels = getLabels(locale);
const literature = await getLiterature(locale);
const entries = literature.filter(([, lit]) => lit.kind === kind);
---

<BaseLayout pageName={kind}>
    <main class={mainClass}>
        <h1>{labels.nav.literature[kind]}</h1>
        <LiteratureCardList langLabels={labels.copy} entries={entries} />
    </main>
</BaseLayout>
