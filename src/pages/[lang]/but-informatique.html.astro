---
import { getLangs } from '../../lib/content';
import { detailHref } from '../../lib/routes';

export async function getStaticPaths() {
    const langs = await getLangs();
    return langs.map(lang => ({ params: { lang } }));
}

const { lang } = Astro.params;
if (!lang) {
    throw new Error('Missing lang param');
}

return Astro.redirect(detailHref(lang, 'history', 'history-but'));
---
